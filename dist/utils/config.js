"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.checkConfiguration=void 0;var _helper=require("./helper");var checkConfiguration=function checkConfiguration(){var configVariables=[];if((0,_helper.empty)(process.env.ENVIRONMENT)){global.logger.error("ENVIRONMENT variable is not defined",{operationName:"createServer"});configVariables.push("ENVIRONMENT")}if((0,_helper.empty)(process.env.API_NAME)){global.logger.error("API_NAME variable is not defined",{operationName:"createServer"});configVariables.push("API_NAME")}if((0,_helper.empty)(process.env.API_VERSION)){global.logger.error("API_VERSION variable is not defined",{operationName:"createServer"});configVariables.push("API_VERSION")}if((0,_helper.empty)(process.env.STUB)){global.logger.error("STUB variable is not defined",{operationName:"createServer"});configVariables.push("STUB")}if((0,_helper.empty)(process.env.CONTEXT_PATH)){global.logger.error("CONTEXT_PATH variable is not defined",{operationName:"createServer"});configVariables.push("CONTEXT_PATH")}if((0,_helper.empty)(process.env.PORT)){global.logger.error("PORT variable is not defined",{operationName:"createServer"});configVariables.push("PORT")}if((0,_helper.empty)(process.env.LOG_LEVEL)){global.logger.error("LOG_LEVEL variable is not defined",{operationName:"createServer"});configVariables.push("LOG_LEVEL")}if((0,_helper.empty)(process.env.JWT_CERTIFICATE)){global.logger.error("JWT_CERTIFICATE variable is not defined",{operationName:"createServer"});configVariables.push("JWT_CERTIFICATE")}if((0,_helper.empty)(process.env.PWM_DM_DATABASE)){global.logger.error("PWM_DM_DATABASE variable is not defined",{operationName:"createServer"});configVariables.push("PWM_DM_DATABASE")}if((0,_helper.empty)(process.env.PWM_DM_HOSTNAME)){global.logger.error("PWM_DM_HOSTNAME variable is not defined",{operationName:"createServer"});configVariables.push("PWM_DM_HOSTNAME")}if((0,_helper.empty)(process.env.PWM_DM_USERNAME)){global.logger.error("PWM_DM_USERNAME variable is not defined",{operationName:"createServer"});configVariables.push("PWM_DM_USERNAME")}if((0,_helper.empty)(process.env.PWM_DM_PASSWORD)){global.logger.error("PWM_DM_PASSWORD variable is not defined",{operationName:"createServer"});configVariables.push("PWM_DM_PASSWORD")}if(!(0,_helper.empty)(configVariables)){global.logger.error("Configuration variables are missing to start the server",{operationName:"createServer",stackTrace:"Following variables are missing -- ".concat(configVariables)});return false}else{return true}};exports.checkConfiguration=checkConfiguration;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlscy9jb25maWcuanMiXSwibmFtZXMiOlsiY2hlY2tDb25maWd1cmF0aW9uIiwiY29uZmlnVmFyaWFibGVzIiwicHJvY2VzcyIsImVudiIsIkVOVklST05NRU5UIiwiZ2xvYmFsIiwibG9nZ2VyIiwiZXJyb3IiLCJvcGVyYXRpb25OYW1lIiwicHVzaCIsIkFQSV9OQU1FIiwiQVBJX1ZFUlNJT04iLCJTVFVCIiwiQ09OVEVYVF9QQVRIIiwiUE9SVCIsIkxPR19MRVZFTCIsIkpXVF9DRVJUSUZJQ0FURSIsIlBXTV9ETV9EQVRBQkFTRSIsIlBXTV9ETV9IT1NUTkFNRSIsIlBXTV9ETV9VU0VSTkFNRSIsIlBXTV9ETV9QQVNTV09SRCIsInN0YWNrVHJhY2UiXSwibWFwcGluZ3MiOiJ3R0FBQSxnQ0FFQSxHQUFNQSxDQUFBQSxrQkFBa0IsQ0FBRyxRQUFyQkEsQ0FBQUEsa0JBQXFCLEVBQU0sQ0FDaEMsR0FBSUMsQ0FBQUEsZUFBZSxDQUFHLEVBQXRCLENBRUEsR0FBSSxrQkFBTUMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFdBQWxCLENBQUosQ0FBb0MsQ0FDbkNDLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjQyxLQUFkLENBQW9CLHFDQUFwQixDQUEyRCxDQUFDQyxhQUFhLENBQUUsY0FBaEIsQ0FBM0QsRUFDQVAsZUFBZSxDQUFDUSxJQUFoQixDQUFxQixhQUFyQixDQUNBLENBRUQsR0FBSSxrQkFBTVAsT0FBTyxDQUFDQyxHQUFSLENBQVlPLFFBQWxCLENBQUosQ0FBaUMsQ0FDaENMLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjQyxLQUFkLENBQW9CLGtDQUFwQixDQUF3RCxDQUFDQyxhQUFhLENBQUUsY0FBaEIsQ0FBeEQsRUFDQVAsZUFBZSxDQUFDUSxJQUFoQixDQUFxQixVQUFyQixDQUNBLENBRUQsR0FBSSxrQkFBTVAsT0FBTyxDQUFDQyxHQUFSLENBQVlRLFdBQWxCLENBQUosQ0FBb0MsQ0FDbkNOLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjQyxLQUFk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RCxDQUU5RWEsVUFBVSw4Q0FBd0NwQixlQUF4QyxDQUZvRSxDQUEvRSxFQUlBLE1BQU8sTUFDUCxDQU5ELElBTU8sQ0FDTixNQUFPLEtBQ1AsQ0FDRCxDQXhFRCxDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtlbXB0eX0gZnJvbSBcIi4vaGVscGVyXCI7XHJcblxyXG5jb25zdCBjaGVja0NvbmZpZ3VyYXRpb24gPSAoKSA9PiB7XHJcblx0bGV0IGNvbmZpZ1ZhcmlhYmxlcyA9IFtdO1xyXG5cclxuXHRpZiAoZW1wdHkocHJvY2Vzcy5lbnYuRU5WSVJPTk1FTlQpKSB7XHJcblx0XHRnbG9iYWwubG9nZ2VyLmVycm9yKFwiRU5WSVJPTk1FTlQgdmFyaWFibGUgaXMgbm90IGRlZmluZWRcIiwge29wZXJhdGlvbk5hbWU6IFwiY3JlYXRlU2VydmVyXCJ9KTtcclxuXHRcdGNvbmZpZ1ZhcmlhYmxlcy5wdXNoKFwiRU5WSVJPTk1FTlRcIik7XHJcblx0fVxyXG5cclxuXHRpZiAoZW1wdHkocHJvY2Vzcy5lbnYuQVBJX05BTUUpKSB7XHJcblx0XHRnbG9iYWwubG9nZ2VyLmVycm9yKFwiQVBJX05BTUUgdmFyaWFibGUgaXMgbm90IGRlZmluZWRcIiwge29wZXJhdGlvbk5hbWU6IFwiY3JlYXRlU2VydmVyXCJ9KTtcclxuXHRcdGNvbmZpZ1ZhcmlhYmxlcy5wdXNoKFwiQVBJX05BTUVcIik7XHJcblx0fVxyXG5cclxuXHRpZiAoZW1wdHkocHJvY2Vzcy5lbnYuQVBJX1ZFUlNJT04pKSB7XHJcblx0XHRnbG9iYWwubG9nZ2VyLmVycm9yKFwiQVBJX1ZFUlNJT04gdmFyaWFibGUgaXMgbm90IGRlZmluZWRcIiwge29wZXJhdGlvbk5hbWU6IFwiY3JlYXRlU2VydmVyXCJ9KTtcclxuXHRcdGNvbmZpZ1ZhcmlhYmxlcy5wdXNoKFwiQVBJX1ZFUlNJT05cIik7XHJcblx0fVxyXG5cclxuXHRpZiAoZW1wdHkocHJvY2Vzcy5lbnYuU1RVQikpIHtcclxuXHRcdGdsb2JhbC5sb2dnZXIuZXJyb3IoXCJTVFVCIHZhcmlhYmxlIGlzIG5vdCBkZWZpbmVkXCIsIHtvcGVyYXRpb25OYW1lOiBcImNyZWF0ZVNlcnZlclwifSk7XHJcblx0XHRjb25maWdWYXJpYWJsZXMucHVzaChcIlNUVUJcIik7XHJcblx0fVxyXG5cclxuXHRpZiAoZW1wdHkocHJvY2Vzcy5lbnYuQ09OVEVYVF9QQVRIKSkge1xyXG5cdFx0Z2xvYmFsLmxvZ2dlci5lcnJvcihcIkNPTlRFWFRfUEFUSCB2YXJpYWJsZSBpcyBub3QgZGVmaW5lZFwiLCB7b3BlcmF0aW9uTmFtZTogXCJjcmVhdGVTZXJ2ZXJcIn0pO1xyXG5cdFx0Y29uZmlnVmFyaWFibGVzLnB1c2goXCJDT05URVhUX1BBVEhcIik7XHJcblx0fVxyXG5cclxuXHRpZiAoZW1wdHkocHJvY2Vzcy5lbnYuUE9SVCkpIHtcclxuXHRcdGdsb2JhbC5sb2dnZXIuZXJyb3IoXCJQT1JUIHZhcmlhYmxlIGlzIG5vdCBkZWZpbmVkXCIsIHtvcGVyYXRpb25OYW1lOiBcImNyZWF0ZVNlcnZlclwifSk7XHJcblx0XHRjb25maWdWYXJpYWJsZXMucHVzaChcIlBPUlRcIik7XHJcblx0fVxyXG5cclxuXHRpZiAoZW1wdHkocHJvY2Vzcy5lbnYuTE9HX0xFVkVMKSkge1xyXG5cdFx0Z2xvYmFsLmxvZ2dlci5lcnJvcihcIkxPR19MRVZFTCB2YXJpYWJsZSBpcyBub3QgZGVmaW5lZFwiLCB7b3BlcmF0aW9uTmFtZTogXCJjcmVhdGVTZXJ2ZXJcIn0pO1xyXG5cdFx0Y29uZmlnVmFyaWFibGVzLnB1c2goXCJMT0dfTEVWRUxcIik7XHJcblx0fVxyXG5cclxuXHRpZiAoZW1wdHkocHJvY2Vzcy5lbnYuSldUX0NFUlRJRklDQVRFKSkge1xyXG5cdFx0Z2xvYmFsLmxvZ2dlci5lcnJvcihcIkpXVF9DRVJUSUZJQ0FURSB2YXJpYWJsZSBpcyBub3QgZGVmaW5lZFwiLCB7b3BlcmF0aW9uTmFtZTogXCJjcmVhdGVTZXJ2ZXJcIn0pO1xyXG5cdFx0Y29uZmlnVmFyaWFibGVzLnB1c2goXCJKV1RfQ0VSVElGSUNBVEVcIik7XHJcblx0fVxyXG5cclxuXHRpZiAoZW1wdHkocHJvY2Vzcy5lbnYuUFdNX0RNX0RBVEFCQVNFKSkge1xyXG5cdFx0Z2xvYmFsLmxvZ2dlci5lcnJvcihcIlBXTV9ETV9EQVRBQkFTRSB2YXJpYWJsZSBpcyBub3QgZGVmaW5lZFwiLCB7b3BlcmF0aW9uTmFtZTogXCJjcmVhdGVTZXJ2ZXJcIn0pO1xyXG5cdFx0Y29uZmlnVmFyaWFibGVzLnB1c2goXCJQV01fRE1fREFUQUJBU0VcIik7XHJcblx0fVxyXG5cclxuXHRpZiAoZW1wdHkocHJvY2Vzcy5lbnYuUFdNX0RNX0hPU1ROQU1FKSkge1xyXG5cdFx0Z2xvYmFsLmxvZ2dlci5lcnJvcihcIlBXTV9ETV9IT1NUTkFNRSB2YXJpYWJsZSBpcyBub3QgZGVmaW5lZFwiLCB7b3BlcmF0aW9uTmFtZTogXCJjcmVhdGVTZXJ2ZXJcIn0pO1xyXG5cdFx0Y29uZmlnVmFyaWFibGVzLnB1c2goXCJQV01fRE1fSE9TVE5BTUVcIik7XHJcblx0fVxyXG5cclxuXHRpZiAoZW1wdHkocHJvY2Vzcy5lbnYuUFdNX0RNX1VTRVJOQU1FKSkge1xyXG5cdFx0Z2xvYmFsLmxvZ2dlci5lcnJvcihcIlBXTV9ETV9VU0VSTkFNRSB2YXJpYWJsZSBpcyBub3QgZGVmaW5lZFwiLCB7b3BlcmF0aW9uTmFtZTogXCJjcmVhdGVTZXJ2ZXJcIn0pO1xyXG5cdFx0Y29uZmlnVmFyaWFibGVzLnB1c2goXCJQV01fRE1fVVNFUk5BTUVcIik7XHJcblx0fVxyXG5cclxuXHRpZiAoZW1wdHkocHJvY2Vzcy5lbnYuUFdNX0RNX1BBU1NXT1JEKSkge1xyXG5cdFx0Z2xvYmFsLmxvZ2dlci5lcnJvcihcIlBXTV9ETV9QQVNTV09SRCB2YXJpYWJsZSBpcyBub3QgZGVmaW5lZFwiLCB7b3BlcmF0aW9uTmFtZTogXCJjcmVhdGVTZXJ2ZXJcIn0pO1xyXG5cdFx0Y29uZmlnVmFyaWFibGVzLnB1c2goXCJQV01fRE1fUEFTU1dPUkRcIik7XHJcblx0fVxyXG5cclxuXHRpZiAoIWVtcHR5KGNvbmZpZ1ZhcmlhYmxlcykpIHtcclxuXHRcdGdsb2JhbC5sb2dnZXIuZXJyb3IoXCJDb25maWd1cmF0aW9uIHZhcmlhYmxlcyBhcmUgbWlzc2luZyB0byBzdGFydCB0aGUgc2VydmVyXCIsIHtcclxuXHRcdFx0b3BlcmF0aW9uTmFtZTogXCJjcmVhdGVTZXJ2ZXJcIixcclxuXHRcdFx0c3RhY2tUcmFjZTogYEZvbGxvd2luZyB2YXJpYWJsZXMgYXJlIG1pc3NpbmcgLS0gJHtjb25maWdWYXJpYWJsZXN9YFxyXG5cdFx0fSk7XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fSBlbHNlIHtcclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxufTtcclxuXHJcbmV4cG9ydCB7Y2hlY2tDb25maWd1cmF0aW9ufTsiXX0=