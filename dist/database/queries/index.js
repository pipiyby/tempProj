"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.queryForClientBalance=void 0;var queryForClientBalance="Select distinct ca.CustodianAccountID as accountNumber,\n"+"  TR.TotalMarketValue as currentBalance,  \n"+"  TR.[DateKey] as asOfDate\n"+"from PWM_DM.[dbo].[Fact_AccountSummary] TR\n"+"INNER JOIN PWM_DM.[dbo].Dim_Account CA ON CA.AccountKey = TR.AccountKey\n"+"Inner Join\n"+"(\n"+"\tSELECT D.PWMAccountID, max([DateKey]) maxdatekey\n"+"\tFROM PWM_DM.[dbo].[Fact_AccountSummary] TR\n"+"\tINNER JOIN PWM_DM.[dbo].Dim_Account D ON D.AccountKey = TR.AccountKey\n"+"\tgroup by D.PWMAccountID\n"+"\n"+") Tmax On CA.PWMAccountID = TMax.PWMAccountID \n"+"\tand TR.Datekey = TMax.maxdatekey\n"+"where (:accountId)";exports.queryForClientBalance=queryForClientBalance;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9kYXRhYmFzZS9xdWVyaWVzL2luZGV4LmpzIl0sIm5hbWVzIjpbInF1ZXJ5Rm9yQ2xpZW50QmFsYW5jZSJdLCJtYXBwaW5ncyI6IjJHQUFBLEdBQU1BLENBQUFBLHFCQUFxQixDQUFHLDREQUM3Qiw4Q0FENkIsQ0FFN0IsOEJBRjZCLENBRzdCLDhDQUg2QixDQUk3QiwyRUFKNkIsQ0FLN0IsY0FMNkIsQ0FNN0IsS0FONkIsQ0FPN0Isc0RBUDZCLENBUTdCLGdEQVI2QixDQVM3QiwyRUFUNkIsQ0FVN0IsNkJBVjZCLENBVzdCLElBWDZCLENBWTdCLGtEQVo2QixDQWE3QixzQ0FiNkIsQ0FjN0Isb0JBZEQsQyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHF1ZXJ5Rm9yQ2xpZW50QmFsYW5jZSA9IFwiU2VsZWN0IGRpc3RpbmN0IGNhLkN1c3RvZGlhbkFjY291bnRJRCBhcyBhY2NvdW50TnVtYmVyLFxcblwiICtcclxuXHRcIiAgVFIuVG90YWxNYXJrZXRWYWx1ZSBhcyBjdXJyZW50QmFsYW5jZSwgIFxcblwiICtcclxuXHRcIiAgVFIuW0RhdGVLZXldIGFzIGFzT2ZEYXRlXFxuXCIgK1xyXG5cdFwiZnJvbSBQV01fRE0uW2Rib10uW0ZhY3RfQWNjb3VudFN1bW1hcnldIFRSXFxuXCIgK1xyXG5cdFwiSU5ORVIgSk9JTiBQV01fRE0uW2Rib10uRGltX0FjY291bnQgQ0EgT04gQ0EuQWNjb3VudEtleSA9IFRSLkFjY291bnRLZXlcXG5cIiArXHJcblx0XCJJbm5lciBKb2luXFxuXCIgK1xyXG5cdFwiKFxcblwiICtcclxuXHRcIlxcdFNFTEVDVCBELlBXTUFjY291bnRJRCwgbWF4KFtEYXRlS2V5XSkgbWF4ZGF0ZWtleVxcblwiICtcclxuXHRcIlxcdEZST00gUFdNX0RNLltkYm9dLltGYWN0X0FjY291bnRTdW1tYXJ5XSBUUlxcblwiICtcclxuXHRcIlxcdElOTkVSIEpPSU4gUFdNX0RNLltkYm9dLkRpbV9BY2NvdW50IEQgT04gRC5BY2NvdW50S2V5ID0gVFIuQWNjb3VudEtleVxcblwiICtcclxuXHRcIlxcdGdyb3VwIGJ5IEQuUFdNQWNjb3VudElEXFxuXCIgK1xyXG5cdFwiXFxuXCIgK1xyXG5cdFwiKSBUbWF4IE9uIENBLlBXTUFjY291bnRJRCA9IFRNYXguUFdNQWNjb3VudElEIFxcblwiICtcclxuXHRcIlxcdGFuZCBUUi5EYXRla2V5ID0gVE1heC5tYXhkYXRla2V5XFxuXCIgK1xyXG5cdFwid2hlcmUgKDphY2NvdW50SWQpXCI7XHJcblxyXG5cclxuZXhwb3J0IHtxdWVyeUZvckNsaWVudEJhbGFuY2V9OyJdfQ==